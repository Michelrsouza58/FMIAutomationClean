<?xml version="1.0" encoding="utf-8" ?>
<views:BaseContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:views="clr-namespace:FMIAutomation.Views"
             x:Class="FMIAutomation.Views.ChangePasswordPage"
             BackgroundColor="{AppThemeBinding Light={StaticResource LoginBackgroundLight}, Dark={StaticResource LoginBackgroundDark}}"
             Title="Alterar Senha">
    
    <Shell.BackButtonBehavior>
        <BackButtonBehavior IconOverride="arrow_back.png" TextOverride="" />
    </Shell.BackButtonBehavior>
    
    <!-- ConfiguraÃ§Ã£o especÃ­fica da barra de navegaÃ§Ã£o -->
    <ContentPage.Resources>
        <Style TargetType="NavigationPage">
            <Setter Property="BarBackgroundColor" Value="#2563EB" />
            <Setter Property="BarTextColor" Value="White" />
            <Setter Property="IconColor" Value="White" />
        </Style>
    </ContentPage.Resources>
    
    <ScrollView>
        <VerticalStackLayout Spacing="20" Padding="20">
            
            <!-- Header -->
            <Frame BackgroundColor="#2563EB" CornerRadius="25" Padding="25" HasShadow="True" Margin="0,10,0,20">
                <VerticalStackLayout Spacing="15">
                    <Label Text="ðŸ”’" FontSize="48" HorizontalOptions="Center" TextColor="White"/>
                    <Label Text="Alterar Senha" FontSize="24" FontAttributes="Bold" TextColor="White" HorizontalOptions="Center"/>
                    <Label Text="Crie uma nova senha segura" FontSize="16" TextColor="#E3F2FD" HorizontalOptions="Center"/>
                </VerticalStackLayout>
            </Frame>
            
            <!-- FormulÃ¡rio -->
            <VerticalStackLayout Spacing="20">
                
                <!-- Senha Atual -->
                <Frame BackgroundColor="White" CornerRadius="20" Padding="20" HasShadow="True">
                    <VerticalStackLayout Spacing="10">
                        <Label Text="Senha Atual" FontSize="16" FontAttributes="Bold" TextColor="#2563EB"/>
                        <Border BackgroundColor="#F1F5F9" StrokeThickness="2" Stroke="#E2E8F0" StrokeShape="RoundRectangle 12">
                            <Entry x:Name="CurrentPasswordEntry" 
                                   Text=""
                                   FontSize="18" 
                                   BackgroundColor="Transparent"
                                   TextColor="#1E293B"
                                   PlaceholderColor="#94A3B8"
                                   IsPassword="True"
                                   Placeholder="Digite sua senha atual"
                                   Margin="15,10"/>
                        </Border>
                    </VerticalStackLayout>
                </Frame>
                
                <!-- Nova Senha -->
                <Frame BackgroundColor="White" CornerRadius="20" Padding="20" HasShadow="True">
                    <VerticalStackLayout Spacing="10">
                        <Label Text="Nova Senha" FontSize="16" FontAttributes="Bold" TextColor="#2563EB"/>
                        <Border BackgroundColor="#F1F5F9" StrokeThickness="2" Stroke="#E2E8F0" StrokeShape="RoundRectangle 12">
                            <Entry x:Name="NewPasswordEntry" 
                                   Text=""
                                   FontSize="18" 
                                   BackgroundColor="Transparent"
                                   TextColor="#1E293B"
                                   PlaceholderColor="#94A3B8"
                                   IsPassword="True"
                                   Placeholder="Digite sua nova senha"
                                   Margin="15,10"/>
                        </Border>
                        <Label x:Name="PasswordStrengthLabel" 
                               Text="MÃ­nimo 6 caracteres" 
                               FontSize="14" 
                               TextColor="#94A3B8"/>
                    </VerticalStackLayout>
                </Frame>
                
                <!-- Confirmar Senha -->
                <Frame BackgroundColor="White" CornerRadius="20" Padding="20" HasShadow="True">
                    <VerticalStackLayout Spacing="10">
                        <Label Text="Confirmar Nova Senha" FontSize="16" FontAttributes="Bold" TextColor="#2563EB"/>
                        <Border BackgroundColor="#F1F5F9" StrokeThickness="2" Stroke="#E2E8F0" StrokeShape="RoundRectangle 12">
                            <Entry x:Name="ConfirmPasswordEntry" 
                                   Text=""
                                   FontSize="18" 
                                   BackgroundColor="Transparent"
                                   TextColor="#1E293B"
                                   PlaceholderColor="#94A3B8"
                                   IsPassword="True"
                                   Placeholder="Confirme sua nova senha"
                                   Margin="15,10"/>
                        </Border>
                    </VerticalStackLayout>
                </Frame>
                
                <!-- Dicas de SeguranÃ§a -->
                <Frame BackgroundColor="#E8F5E8" CornerRadius="15" Padding="15" HasShadow="False">
                    <VerticalStackLayout Spacing="8">
                        <Label Text="ðŸ’¡ Dicas para uma senha segura:" FontSize="16" FontAttributes="Bold" TextColor="#2E7D32"/>
                        <Label Text="â€¢ Use pelo menos 8 caracteres" FontSize="14" TextColor="#388E3C"/>
                        <Label Text="â€¢ Combine letras, nÃºmeros e sÃ­mbolos" FontSize="14" TextColor="#388E3C"/>
                        <Label Text="â€¢ Evite informaÃ§Ãµes pessoais" FontSize="14" TextColor="#388E3C"/>
                    </VerticalStackLayout>
                </Frame>
                
                <!-- BotÃµes -->
                <VerticalStackLayout Spacing="15" Margin="0,20,0,0">
                    <Button x:Name="ChangePasswordButton" 
                            Text="ðŸ”’  Alterar Senha" 
                            FontSize="18" 
                            FontAttributes="Bold"
                            BackgroundColor="#2563EB" 
                            TextColor="White" 
                            CornerRadius="25" 
                            HeightRequest="55"
                            HorizontalOptions="Fill"
                            Shadow="{OnPlatform WinUI={x:Null}, Default={Shadow Brush=Black, Opacity=0.3, Radius=8, Offset='0,4'}}"/>
                    
                    <Button x:Name="CancelButton" 
                            Text="âŒ  Cancelar" 
                            FontSize="16" 
                            FontAttributes="Bold"
                            BackgroundColor="Transparent" 
                            TextColor="#64748B" 
                            CornerRadius="25" 
                            HeightRequest="50"
                            BorderWidth="2"
                            BorderColor="#E2E8F0"
                            HorizontalOptions="Fill"/>
                </VerticalStackLayout>
                
            </VerticalStackLayout>
        </VerticalStackLayout>
    </ScrollView>
</views:BaseContentPage>