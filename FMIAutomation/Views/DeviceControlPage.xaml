<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="FMIAutomation.Views.DeviceControlPage"
             BackgroundColor="{AppThemeBinding Light={StaticResource LoginBackgroundLight}, Dark={StaticResource LoginBackgroundDark}}"
             Title="Controle do Dispositivo">
    
    <!-- ConfiguraÃ§Ã£o especÃ­fica da barra de navegaÃ§Ã£o -->
    <ContentPage.Resources>
        <Style TargetType="NavigationPage">
            <Setter Property="BarBackgroundColor" Value="#2563EB" />
            <Setter Property="BarTextColor" Value="White" />
            <Setter Property="IconColor" Value="White" />
        </Style>
    </ContentPage.Resources>
    
    <ScrollView>
        <VerticalStackLayout Spacing="25" Padding="20">
            
            <!-- Header do Dispositivo -->
            <Frame BackgroundColor="#2563EB" 
                   CornerRadius="20" 
                   Padding="20" 
                   HasShadow="True"
                   Margin="0,10,0,0">
                <VerticalStackLayout Spacing="15">
                    
                    <!-- Nome e Status -->
                    <HorizontalStackLayout Spacing="15" HorizontalOptions="Center">
                        <Image Source="icon_generic.png" 
                               HeightRequest="60" 
                               WidthRequest="60"/>
                        <VerticalStackLayout Spacing="5" VerticalOptions="Center">
                            <Label x:Name="DeviceNameLabel" 
                                   Text="ESP32 Dispositivo" 
                                   FontSize="20" 
                                   FontAttributes="Bold" 
                                   TextColor="White"/>
                            <HorizontalStackLayout Spacing="8">
                                <Ellipse x:Name="StatusDot" 
                                         Fill="#10B981" 
                                         WidthRequest="10" 
                                         HeightRequest="10" 
                                         VerticalOptions="Center"/>
                                <Label x:Name="StatusLabel" 
                                       Text="Online" 
                                       FontSize="14" 
                                       TextColor="#E3F2FD"/>
                            </HorizontalStackLayout>
                        </VerticalStackLayout>
                    </HorizontalStackLayout>
                    
                    <!-- BotÃ£o Ãšnico de Liga/Desliga -->
                    <Button x:Name="PowerToggleButton" 
                            Text="ðŸ”Œ Desconectar Dispositivo" 
                            BackgroundColor="#EF4444" 
                            TextColor="White" 
                            CornerRadius="30" 
                            WidthRequest="250" 
                            HeightRequest="60"
                            FontSize="16"
                            FontAttributes="Bold"
                            HorizontalOptions="Center"
                            Shadow="{OnPlatform WinUI={x:Null}, Default={Shadow Brush=Black, Opacity=0.3, Radius=8, Offset='0,4'}}"/>
                    
                </VerticalStackLayout>
            </Frame>
            
            <!-- SeÃ§Ã£o de Controles -->
            <Label Text="ðŸŽ›ï¸ Controles da Granja" 
                   FontSize="20" 
                   FontAttributes="Bold" 
                   TextColor="#2563EB" 
                   HorizontalOptions="Start"/>
            
            <!-- Card de Controle de Umidade -->
            <Frame BackgroundColor="White" 
                   CornerRadius="15" 
                   Padding="20" 
                   HasShadow="True">
                <VerticalStackLayout Spacing="15">
                    <HorizontalStackLayout Spacing="10">
                        <Label Text="ðŸ’§" FontSize="24" VerticalOptions="Center"/>
                        <Label Text="Umidade" 
                               FontSize="18" 
                               FontAttributes="Bold" 
                               TextColor="#3B5A7A" 
                               VerticalOptions="Center"/>
                        <Label x:Name="HumidityValueLabel" 
                               Text="65%" 
                               FontSize="16" 
                               TextColor="#4CAF50" 
                               HorizontalOptions="EndAndExpand" 
                               VerticalOptions="Center"/>
                    </HorizontalStackLayout>
                    
                    <Slider x:Name="HumiditySlider" 
                            Minimum="0" 
                            Maximum="100" 
                            Value="65" 
                            ThumbColor="#3B5A7A" 
                            MinimumTrackColor="#3B5A7A" 
                            MaximumTrackColor="#E0E0E0"/>
                    
                    <Grid ColumnDefinitions="*,*">
                        <Label Text="0%" FontSize="12" TextColor="#757575" Grid.Column="0"/>
                        <Label Text="100%" FontSize="12" TextColor="#757575" Grid.Column="1" HorizontalOptions="End"/>
                    </Grid>
                </VerticalStackLayout>
            </Frame>
            
            <!-- Card de Controle de Ventilador -->
            <Frame BackgroundColor="White" 
                   CornerRadius="15" 
                   Padding="20" 
                   HasShadow="True">
                <VerticalStackLayout Spacing="15">
                    <HorizontalStackLayout Spacing="10">
                        <Label Text="ðŸŒªï¸" FontSize="24" VerticalOptions="Center"/>
                        <Label Text="Velocidade do Ventilador" 
                               FontSize="18" 
                               FontAttributes="Bold" 
                               TextColor="#3B5A7A" 
                               VerticalOptions="Center"/>
                        <Label x:Name="FanSpeedValueLabel" 
                               Text="3" 
                               FontSize="16" 
                               TextColor="#4CAF50" 
                               HorizontalOptions="EndAndExpand" 
                               VerticalOptions="Center"/>
                    </HorizontalStackLayout>
                    
                    <Slider x:Name="FanSpeedSlider" 
                            Minimum="0" 
                            Maximum="5" 
                            Value="3" 
                            ThumbColor="#3B5A7A" 
                            MinimumTrackColor="#3B5A7A" 
                            MaximumTrackColor="#E0E0E0"/>
                    
                    <Grid ColumnDefinitions="*,*">
                        <Label Text="Desligado" FontSize="12" TextColor="#757575" Grid.Column="0"/>
                        <Label Text="MÃ¡ximo" FontSize="12" TextColor="#757575" Grid.Column="1" HorizontalOptions="End"/>
                    </Grid>
                </VerticalStackLayout>
            </Frame>
            
            <!-- Card de Controle de Temperatura -->
            <Frame BackgroundColor="White" 
                   CornerRadius="15" 
                   Padding="20" 
                   HasShadow="True">
                <VerticalStackLayout Spacing="15">
                    <HorizontalStackLayout Spacing="10">
                        <Label Text="ðŸŒ¡ï¸" FontSize="24" VerticalOptions="Center"/>
                        <Label Text="Temperatura" 
                               FontSize="18" 
                               FontAttributes="Bold" 
                               TextColor="#3B5A7A" 
                               VerticalOptions="Center"/>
                        <Label x:Name="TemperatureValueLabel" 
                               Text="24Â°C" 
                               FontSize="16" 
                               TextColor="#4CAF50" 
                               HorizontalOptions="EndAndExpand" 
                               VerticalOptions="Center"/>
                    </HorizontalStackLayout>
                    
                    <Slider x:Name="TemperatureSlider" 
                            Minimum="15" 
                            Maximum="35" 
                            Value="24" 
                            ThumbColor="#3B5A7A" 
                            MinimumTrackColor="#3B5A7A" 
                            MaximumTrackColor="#E0E0E0"/>
                    
                    <Grid ColumnDefinitions="*,*">
                        <Label Text="15Â°C" FontSize="12" TextColor="#757575" Grid.Column="0"/>
                        <Label Text="35Â°C" FontSize="12" TextColor="#757575" Grid.Column="1" HorizontalOptions="End"/>
                    </Grid>
                </VerticalStackLayout>
            </Frame>
            
            <!-- Card de Controle de IluminaÃ§Ã£o -->
            <Frame BackgroundColor="White" 
                   CornerRadius="15" 
                   Padding="20" 
                   HasShadow="True">
                <VerticalStackLayout Spacing="15">
                    <HorizontalStackLayout Spacing="10">
                        <Label Text="ðŸ’¡" FontSize="24" VerticalOptions="Center"/>
                        <Label Text="IluminaÃ§Ã£o" 
                               FontSize="18" 
                               FontAttributes="Bold" 
                               TextColor="#3B5A7A" 
                               VerticalOptions="Center"/>
                        <Label x:Name="LightIntensityValueLabel" 
                               Text="80%" 
                               FontSize="16" 
                               TextColor="#4CAF50" 
                               HorizontalOptions="EndAndExpand" 
                               VerticalOptions="Center"/>
                    </HorizontalStackLayout>
                    
                    <Slider x:Name="LightIntensitySlider" 
                            Minimum="0" 
                            Maximum="100" 
                            Value="80" 
                            ThumbColor="#3B5A7A" 
                            MinimumTrackColor="#3B5A7A" 
                            MaximumTrackColor="#E0E0E0"/>
                    
                    <Grid ColumnDefinitions="*,*">
                        <Label Text="0%" FontSize="12" TextColor="#757575" Grid.Column="0"/>
                        <Label Text="100%" FontSize="12" TextColor="#757575" Grid.Column="1" HorizontalOptions="End"/>
                    </Grid>
                </VerticalStackLayout>
            </Frame>
            
            <!-- Card de AlimentaÃ§Ã£o AutomÃ¡tica -->
            <Frame BackgroundColor="White" 
                   CornerRadius="15" 
                   Padding="20" 
                   HasShadow="True">
                <VerticalStackLayout Spacing="15">
                    <HorizontalStackLayout Spacing="10">
                        <Label Text="ðŸ½ï¸" FontSize="24" VerticalOptions="Center"/>
                        <Label Text="AlimentaÃ§Ã£o AutomÃ¡tica" 
                               FontSize="18" 
                               FontAttributes="Bold" 
                               TextColor="#3B5A7A" 
                               VerticalOptions="Center"/>
                        <Label x:Name="FeedingValueLabel" 
                               Text="4x/dia" 
                               FontSize="16" 
                               TextColor="#4CAF50" 
                               HorizontalOptions="EndAndExpand" 
                               VerticalOptions="Center"/>
                    </HorizontalStackLayout>
                    
                    <Slider x:Name="FeedingSlider" 
                            Minimum="1" 
                            Maximum="8" 
                            Value="4" 
                            ThumbColor="#3B5A7A" 
                            MinimumTrackColor="#3B5A7A" 
                            MaximumTrackColor="#E0E0E0"/>
                    
                    <Grid ColumnDefinitions="*,*">
                        <Label Text="1x/dia" FontSize="12" TextColor="#757575" Grid.Column="0"/>
                        <Label Text="8x/dia" FontSize="12" TextColor="#757575" Grid.Column="1" HorizontalOptions="End"/>
                    </Grid>
                </VerticalStackLayout>
            </Frame>
            
            <!-- BotÃ£o de Aplicar ConfiguraÃ§Ãµes -->
            <Button Text="ðŸ’¾ Aplicar ConfiguraÃ§Ãµes" 
                    BackgroundColor="#3B5A7A" 
                    TextColor="White" 
                    CornerRadius="25" 
                    HeightRequest="55" 
                    FontSize="16" 
                    FontAttributes="Bold" 
                    Margin="0,20,0,30"
                    x:Name="ApplyConfigButton"/>
            
        </VerticalStackLayout>
    </ScrollView>
</ContentPage>